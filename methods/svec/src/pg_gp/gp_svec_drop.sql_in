DROP TYPE IF EXISTS MADLIB_SCHEMA.svec CASCADE;

DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_in(cstring);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_out(MADLIB_SCHEMA.svec);
DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_recv(internal);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_send(MADLIB_SCHEMA.svec);
DROP FUNCTION IF EXISTS MADLIB_SCHEMA.dmin(float8,float8);
DROP FUNCTION IF EXISTS MADLIB_SCHEMA.dmax(float8,float8);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_count(MADLIB_SCHEMA.svec,MADLIB_SCHEMA.svec);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_plus(MADLIB_SCHEMA.svec,MADLIB_SCHEMA.svec);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_minus(MADLIB_SCHEMA.svec,MADLIB_SCHEMA.svec);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.log(MADLIB_SCHEMA.svec);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_div(MADLIB_SCHEMA.svec,MADLIB_SCHEMA.svec);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_mult(MADLIB_SCHEMA.svec,MADLIB_SCHEMA.svec);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_pow(MADLIB_SCHEMA.svec,MADLIB_SCHEMA.svec);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_eq(MADLIB_SCHEMA.svec,MADLIB_SCHEMA.svec);
DROP FUNCTION IF EXISTS MADLIB_SCHEMA.float8arr_eq(float8[],float8[]) CASCADE;
DROP FUNCTION IF EXISTS MADLIB_SCHEMA.float8arr_minus_float8arr(float8[],float8[]);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.float8arr_minus_svec(float8[],MADLIB_SCHEMA.svec);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_minus_float8arr(MADLIB_SCHEMA.svec,float8[]);
DROP FUNCTION IF EXISTS MADLIB_SCHEMA.float8arr_plus_float8arr(float8[],float8[]);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.float8arr_plus_svec(float8[],MADLIB_SCHEMA.svec);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_plus_float8arr(MADLIB_SCHEMA.svec,float8[]);
DROP FUNCTION IF EXISTS MADLIB_SCHEMA.float8arr_mult_float8arr(float8[],float8[]);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.float8arr_mult_svec(float8[],MADLIB_SCHEMA.svec);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_mult_float8arr(MADLIB_SCHEMA.svec,float8[]);
DROP FUNCTION IF EXISTS MADLIB_SCHEMA.float8arr_div_float8arr(float8[],float8[]);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.float8arr_div_svec(float8[],MADLIB_SCHEMA.svec);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_div_float8arr(MADLIB_SCHEMA.svec,float8[]);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.dot(MADLIB_SCHEMA.svec,MADLIB_SCHEMA.svec);
DROP FUNCTION IF EXISTS MADLIB_SCHEMA.dot(float8[],float8[]) CASCADE;
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.dot(MADLIB_SCHEMA.svec,float8[]);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.dot(float8[],MADLIB_SCHEMA.svec);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.l2norm(MADLIB_SCHEMA.svec);
DROP FUNCTION IF EXISTS MADLIB_SCHEMA.l2norm(float8[]);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.l1norm(MADLIB_SCHEMA.svec);
DROP FUNCTION IF EXISTS MADLIB_SCHEMA.l1norm(float8[]);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.unnest(MADLIB_SCHEMA.svec);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.vec_pivot(MADLIB_SCHEMA.svec,float8);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.vec_sum(MADLIB_SCHEMA.svec);
DROP FUNCTION IF EXISTS MADLIB_SCHEMA.vec_sum(float8[]);
DROP FUNCTION IF EXISTS MADLIB_SCHEMA.vec_median(float8[]);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.vec_median(MADLIB_SCHEMA.svec);
DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_cast_int2(int2);
DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_cast_int4(int4);
DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_cast_int8(bigint);
DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_cast_float4(float4);
DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_cast_float8(float8);
DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_cast_numeric(numeric);
DROP FUNCTION IF EXISTS MADLIB_SCHEMA.float8arr_cast_int2(int2);
DROP FUNCTION IF EXISTS MADLIB_SCHEMA.float8arr_cast_int4(int4);
DROP FUNCTION IF EXISTS MADLIB_SCHEMA.float8arr_cast_int8(bigint);
DROP FUNCTION IF EXISTS MADLIB_SCHEMA.float8arr_cast_float4(float4);
DROP FUNCTION IF EXISTS MADLIB_SCHEMA.float8arr_cast_float8(float8);
DROP FUNCTION IF EXISTS MADLIB_SCHEMA.float8arr_cast_numeric(numeric);
DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_cast_float8arr(float8[]);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_return_array(MADLIB_SCHEMA.svec);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_concat(MADLIB_SCHEMA.svec,MADLIB_SCHEMA.svec);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_concat_replicate(int4,MADLIB_SCHEMA.svec);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.dimension(MADLIB_SCHEMA.svec);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_lapply(text,MADLIB_SCHEMA.svec);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_append(MADLIB_SCHEMA.svec,float8,int8);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_proj(MADLIB_SCHEMA.svec,int4);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_subvec(MADLIB_SCHEMA.svec,int4,int4);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_reverse(MADLIB_SCHEMA.svec);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_change(MADLIB_SCHEMA.svec,int4,MADLIB_SCHEMA.svec);
DROP FUNCTION IF EXISTS MADLIB_SCHEMA.gp_extract_feature_histogram(text[], text[]);

-- DROP OPERATOR IF EXISTS || ( MADLIB_SCHEMA.svec, MADLIB_SCHEMA.svec);
-- DROP OPERATOR IF EXISTS - ( MADLIB_SCHEMA.svec, MADLIB_SCHEMA.svec);
-- DROP OPERATOR IF EXISTS + ( MADLIB_SCHEMA.svec, MADLIB_SCHEMA.svec);
-- DROP OPERATOR IF EXISTS / ( MADLIB_SCHEMA.svec, MADLIB_SCHEMA.svec);
-- DROP OPERATOR IF EXISTS %*% ( MADLIB_SCHEMA.svec, MADLIB_SCHEMA.svec);
-- DROP OPERATOR IF EXISTS * ( MADLIB_SCHEMA.svec, MADLIB_SCHEMA.svec);
-- DROP OPERATOR IF EXISTS ^ ( MADLIB_SCHEMA.svec, MADLIB_SCHEMA.svec);

DROP OPERATOR IF EXISTS = ( float8[], float8[]);
-- DROP OPERATOR IF EXISTS %*% ( float8[], MADLIB_SCHEMA.svec);
-- DROP OPERATOR IF EXISTS %*% ( MADLIB_SCHEMA.svec, float8[]);
DROP OPERATOR IF EXISTS %*% ( float8[], float8[]);
DROP OPERATOR IF EXISTS - ( float8[], float8[]);
DROP OPERATOR IF EXISTS + ( float8[], float8[]);
DROP OPERATOR IF EXISTS * ( float8[], float8[]);
DROP OPERATOR IF EXISTS / ( float8[], float8[]);
-- DROP OPERATOR IF EXISTS - ( float8[], MADLIB_SCHEMA.svec);
-- DROP OPERATOR IF EXISTS + ( float8[], MADLIB_SCHEMA.svec);
-- DROP OPERATOR IF EXISTS * ( float8[], MADLIB_SCHEMA.svec);
-- DROP OPERATOR IF EXISTS / ( float8[], MADLIB_SCHEMA.svec);
-- DROP OPERATOR IF EXISTS - ( MADLIB_SCHEMA.svec, float8[]);
-- DROP OPERATOR IF EXISTS + ( MADLIB_SCHEMA.svec, float8[]);
-- DROP OPERATOR IF EXISTS * ( MADLIB_SCHEMA.svec, float8[]);
-- DROP OPERATOR IF EXISTS / ( MADLIB_SCHEMA.svec, float8[]);

-- DROP CAST IF EXISTS (int2 AS MADLIB_SCHEMA.svec) ;
-- DROP CAST IF EXISTS (integer AS MADLIB_SCHEMA.svec) ;
-- DROP CAST IF EXISTS (bigint AS MADLIB_SCHEMA.svec) ;
-- DROP CAST IF EXISTS (float4 AS MADLIB_SCHEMA.svec) ;
-- DROP CAST IF EXISTS (float8 AS MADLIB_SCHEMA.svec) ;
-- DROP CAST IF EXISTS (numeric AS MADLIB_SCHEMA.svec) ;

DROP CAST IF EXISTS (int2 AS float8[]) ;
DROP CAST IF EXISTS (integer AS float8[]) ;
DROP CAST IF EXISTS (bigint AS float8[]) ;
DROP CAST IF EXISTS (float4 AS float8[]) ;
DROP CAST IF EXISTS (float8 AS float8[]) ;
DROP CAST IF EXISTS (numeric AS float8[]) ;

-- DROP CAST IF EXISTS (MADLIB_SCHEMA.svec AS float8[]) ;
-- DROP CAST IF EXISTS (float8[] AS MADLIB_SCHEMA.svec) ;

-- DROP OPERATOR IF EXISTS = (MADLIB_SCHEMA.svec, MADLIB_SCHEMA.svec) ;
-- DROP AGGREGATE IF EXISTS MADLIB_SCHEMA.sum(MADLIB_SCHEMA.svec);
-- DROP AGGREGATE IF EXISTS MADLIB_SCHEMA.vec_count_nonzero(MADLIB_SCHEMA.svec);
DROP AGGREGATE IF EXISTS MADLIB_SCHEMA.array_agg(float8);
DROP AGGREGATE IF EXISTS MADLIB_SCHEMA.median_inmemory(float8);

-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_l2_lt(MADLIB_SCHEMA.svec,MADLIB_SCHEMA.svec);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_l2_le(MADLIB_SCHEMA.svec,MADLIB_SCHEMA.svec);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_l2_eq(MADLIB_SCHEMA.svec,MADLIB_SCHEMA.svec);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_l2_ne(MADLIB_SCHEMA.svec,MADLIB_SCHEMA.svec);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_l2_gt(MADLIB_SCHEMA.svec,MADLIB_SCHEMA.svec);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_l2_ge(MADLIB_SCHEMA.svec,MADLIB_SCHEMA.svec);
-- DROP FUNCTION IF EXISTS MADLIB_SCHEMA.svec_l2_cmp(MADLIB_SCHEMA.svec,MADLIB_SCHEMA.svec);

-- DROP OPERATOR IF EXISTS < (MADLIB_SCHEMA.svec, MADLIB_SCHEMA.svec) CASCADE ;
-- DROP OPERATOR IF EXISTS <= (MADLIB_SCHEMA.svec, MADLIB_SCHEMA.svec) CASCADE ;
-- DROP OPERATOR IF EXISTS <> (MADLIB_SCHEMA.svec, MADLIB_SCHEMA.svec) ;
-- DROP OPERATOR IF EXISTS == (MADLIB_SCHEMA.svec, MADLIB_SCHEMA.svec) CASCADE ;
-- DROP OPERATOR IF EXISTS > (MADLIB_SCHEMA.svec, MADLIB_SCHEMA.svec) CASCADE ;
-- DROP OPERATOR IF EXISTS >= (MADLIB_SCHEMA.svec, MADLIB_SCHEMA.svec) CASCADE ;
-- DROP OPERATOR IF EXISTS *|| (int4, MADLIB_SCHEMA.svec) ;


